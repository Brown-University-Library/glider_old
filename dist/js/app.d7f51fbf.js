(function(t){function e(e){for(var i,n,o=e[0],u=e[1],c=e[2],l=0,p=[];l<o.length;l++)n=o[l],r[n]&&p.push(r[n][0]),r[n]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);h&&h(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,o=1;o<s.length;o++){var u=s[o];0!==r[u]&&(i=!1)}i&&(a.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},r={app:0},a=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var i=s("c21b"),r=s.n(i);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var i=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],n=(s("034f"),s("2877")),o={},u=Object(n["a"])(o,r,a,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,h=s("8c4f"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:t.placeId,class:["glider-root",t.placeId]},[s("Phase",{attrs:{id:"phase1"}},[s("Put",{attrs:{on:"DXLWall",region:"r1c1w2h1"}},[s("Part",{ref:"welcomevid",attrs:{id:"welcomevid"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/Composition_1.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"DXLWall",region:"r2c1w1h1"}},[s("Part",{ref:"todaysweather",attrs:{id:"todaysweather"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/left-weather-today.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"DXLWall",region:"r2c2w1h1"}},[s("Part",{ref:"tomorrowsweather",attrs:{id:"tomorrowsweather"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/right-weather-tomorrow.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"mobile"}},[s("Part",{attrs:{id:"mobile-content-1"}},[s("h1",[t._v("Maybe this is on mobile?")])])],1)],1),s("Phase",{attrs:{id:"studentwork1"}},[s("Put",{attrs:{on:"DXLWall",region:"r1c1w1h1"}},[s("Part",{ref:"student-work-1",attrs:{id:"student-work-1"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/1.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"DXLWall",region:"r1c2w1h1"}},[s("Part",{ref:"student-work-2",attrs:{id:"student-work-2"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/2.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"DXLWall",region:"r2c1w1h1"}},[s("Part",{ref:"student-work-3",attrs:{id:"student-work-3"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/3.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"DXLWall",region:"r2c2w1h1"}},[s("Part",{ref:"student-work-4",attrs:{id:"student-work-4"}},[s("video",{attrs:{autoplay:"",width:"320",height:"240",loop:"",muted:""},domProps:{muted:!0}},[s("source",{attrs:{src:"assets/4.mp4",type:"video/mp4"}})])])],1),s("Put",{attrs:{on:"mobile"}},[s("Part",{attrs:{id:"mobile-content-2"}},[s("h1",[t._v("Hey, look up at the screen to see some work!")])])],1)],1)],1)},p=[],d=(s("7f7f"),s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:"active"==t.state,expression:"state=='active'"}],class:["part","part-"+this.id],style:t.styleObject},[t._t("default",[t._v("\n    "+t._s(t.id)+"\n  ")])],2)}),f=[],v=(s("7514"),s("c93e")),m=s("2f62"),P={name:"Part",inherit:!0,props:{id:String,shared:String},data:function(){return{views:[],styleObject:{},state:"inactive",activeView:null}},computed:Object(v["a"])({},Object(m["b"])({partAttrs:"getSharedPartAttributes"}),{attrs:function(t){return t.partAttrs(t.id)}}),updated:function(){this.populateViews();var t=this.getViewById(this.activeView);void 0!==t&&t.updateState("active"),console.log("component updated")},mounted:function(){var t=this;if(void 0!=t.shared){t.id,JSON.parse(t.shared);this.styleObject.backgroundColor=this.attrs.bgColor}this.$store.commit("registerPart",this)},methods:{populateViews:function(){this.views=this.$children},getViewById:function(t){var e=this.views.find(function(e){return e.id==t});return e},updateState:function(t){this.state=t},deactivate:function(){this.state="inactive"},activate:function(t){this.state="active"},updateSharedAttribute:function(t,e){this.attrs[t]=e}}},g=P,w=Object(n["a"])(g,d,f,!1,null,null,null);w.options.__file="Part.vue";var y=w.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:"active"==t.state,expression:"state=='active'"}],class:["phase",t.placeId]},[t._t("default")],2)},_=[],O={name:"Phase",props:{id:String,duration:String,first:String,placeId:String},data:function(){return{phaseDuration:this.duration,state:"inactive",type:String,nextPhase:Object,timer:Object}},mounted:function(){this.puts=this.$children,this.$store.dispatch("registerPhase",this)},computed:{childPhases:function(){this.$children.filter(function(t){return"Phase"===t.$options.name})}},methods:{start:function(){this.notifyActive();for(var t=[],e=0;e<this.puts.length;e++){var s=this.puts[e],i=s.content,r=s.region,a=s.on;t.push({put:s,part:i,place:a,region:r})}this.$store.dispatch("updateActivePuts",t),void 0!==this.duration&&this.doTimeout()},doTimeout:function(){console.log("triggering timeout");var t=this,e=function(){t.complete()},s=+this.duration;this.timer=setTimeout(e,s)},complete:function(){clearTimeout(this.timer),this.notifyInactive()},notifyActive:function(){this.state="active",this.$store.dispatch("phaseActive",this)},notifyInactive:function(){for(var t=0;t<this.puts.length;t++)console.log("kill da puts");this.state="inactive",this.$store.dispatch("phaseInactive",this)}}},S=O,$=Object(n["a"])(S,b,_,!1,null,null,null);$.options.__file="Phase.vue";var j=$.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:"active"==t.state,expression:"state=='active'"}],staticClass:"put",style:t.styleObject},[t._t("default")],2)},x=[],A=(s("28a5"),{name:"Put",props:{part:String,place:String,on:String,region:String},data:function(){return{styleObject:{},state:"active",referencesAnotherPart:!1}},methods:{getParsedRegionObject:function(t){var e=t.split("r")[1].split("c")[0],s=t.split("w")[0].split("c")[1],i=t.split("w")[1].split("h")[0],r=t.split("h")[1],a=e+" / span "+r,n=s+" / span "+i;return{gridRow:a,gridColumn:n}},applyRegionStyles:function(){var t=this.getParsedRegionObject(this.region);this.styleObject["display"]="grid",this.styleObject["gridRow"]=t.gridRow,this.styleObject["gridColumn"]=t.gridColumn}},computed:{content:function(){if(void 0!=this.part){var t={part:this.part,ref:!0};return t}var e={part:this.$children[0].id,ref:!1};return e}},mounted:function(){this.styleObject={},void 0!=this.region&&this.applyRegionStyles()}}),C=A,I=Object(n["a"])(C,k,x,!1,null,null,null);I.options.__file="Put.vue";var D=I.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"inactive"==t.state?s("div",{class:["place","place-"+this.id,"state-"+t.state]},[t._t("default")],2):t._e()},R=[],T={name:"Place",props:{id:String,type:String,rows:String,columns:String},data:function(){return{state:"active"}},methods:{setupLayout:function(){},activate:function(){this.state="active"},deactivate:function(){this.state="inactive"}},mounted:function(){}},W=T,X=Object(n["a"])(W,L,R,!1,null,null,null);X.options.__file="Place.vue";var E=X.exports,N={name:"home",props:{placeId:String,canControl:{type:String}},components:{Part:y,Phase:j,Put:D,Place:E},data:function(){return{initialPhaseIndex:Number,outerPhases:[]}},methods:{killAllParts:function(t){for(var e=0;e<t.length;e++)t[e].deactivate()},mapPhases:function(){for(var t=0;t<this.outerPhases.length;t++)this.outerPhases[t].nextPhase=this.outerPhases[t+1]}},computed:{inFlight:function(){return this.$store.state.inFlight},pusher:function(){return"true"==this.canControl},activePhase:function(){return this.$store.state.activePhase},activePuts:function(){return this.$store.state.activePuts}},watch:{activePhase:function(){this.activePhase.start()},activePuts:function(){this.killAllParts(this.$store.state.parts);for(var t=0;t<this.activePuts.length;t++){var e=this.activePuts[t],s=this.activePuts[t].place,i=this.activePuts[t].part,r=this.activePuts[t].region;if(console.log("Place ".concat(s,".").concat(r," gets Part ").concat(i.part)),void 0!=this.$refs[s]){var a=this.$refs[i.part];1==i.ref&&(a.$el.parentNode.removeChild(a.$el),e.put.$el.appendChild(a.$el)),a.activate()}}}},mounted:function(){var t=this;if(this.outerPhases=this.$children.filter(function(t){return"Phase"===t.$options.name}),this.$store.dispatch("registerPusherStatus",this.pusher),this.pusher){console.log("doing a keyboard controller");var e=this;document.onkeydown=function(t){t=t||window.event,"39"==t.keyCode?e.activePhase.complete():t.keyCode}}this.mapPhases(),this.$store.dispatch("registerOuterPhases",this.outerPhases).then(function(e){t.$store.dispatch("updatePhase",t.outerPhases[0])},function(t){console.error("Got nothing from store for some reason.")})}},V=N,M=Object(n["a"])(V,l,p,!1,null,null,null);M.options.__file="Home.vue";var F=M.exports;i["a"].use(h["a"]);var H=new h["a"]({routes:[{path:"/",name:"home",component:F},{path:"/place/:placeId/:canControl?",name:"Home",component:F,props:!0}]});i["a"].use(m["a"]);var J={activePhase:Object,isPusher:!1,inFlight:!1,activePuts:[],parts:[],activeParts:[],places:[],allPhases:{},outerPhases:[]},B={updatePhase:function(t,e){q("phase",e.id);var s=firebase.database().ref().child("phase");s.on("value",function(e){var s=e.val();t.activePhase=t.allPhases[s]}),t.activePhase=e},registerPhase:function(t,e){t.allPhases[e.id]=e},updateActivePuts:function(t,e){t.activePuts=e},updateActiveParts:function(t,e){t.activeParts=e},registerPart:function(t,e){t.parts.push(e)},registerOuterPhases:function(t,e){t.outerPhases=e},registerPusherStatus:function(t,e){t.isPusher=e}},G={updatePhase:function(t,e){t.commit("updatePhase",e)},phaseInactive:function(t){void 0!=this.state.activePhase.nextPhase&&this.commit("updatePhase",this.state.activePhase.nextPhase)},phaseActive:function(t,e){t.commit("updatePhase",e)},updateActivePuts:function(t,e){t.commit("updateActivePuts",e)},registerPart:function(t,e){t.commit("registerPart",e)},registerOuterPhases:function(t,e){t.commit("registerOuterPhases",e)},registerPusherStatus:function(t,e){t.commit("registerPusherStatus",e)},registerPhase:function(t,e){t.commit("registerPhase",e)}};function q(t,e){J.isPusher&&firebase.database().ref().child(t).set(e)}var z=new m["a"].Store({state:J,mutations:B,actions:G});i["a"].config.productionTip=!1,new i["a"]({router:H,store:z,render:function(t){return t(c)}}).$mount("#app")},c21b:function(t,e,s){}});
//# sourceMappingURL=app.d7f51fbf.js.map